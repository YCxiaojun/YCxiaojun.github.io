<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>学习日志</title>
  
  <subtitle>ycxj&#39;s blog</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-04-28T08:50:58.838Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>ycxiaojun</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>放大镜特效</title>
    <link href="http://yoursite.com/2018/03/04/%E6%94%BE%E5%A4%A7%E9%95%9C%E7%89%B9%E6%95%88/"/>
    <id>http://yoursite.com/2018/03/04/放大镜特效/</id>
    <published>2018-03-04T04:40:21.000Z</published>
    <updated>2018-04-28T08:50:58.838Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>　　个人写博客是为了记录前端学习的过程以及收获，同时也为了记录学习过程中碰到的各种各样的坑，好敦促自己要努力学习，keep moving！</p></blockquote><hr><p>html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>放大镜特效<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">#layout&#123;</span></span><br><span class="line"><span class="undefined">width: 860px;margin: 50px auto 0;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#box&#123;</span></span><br><span class="line"><span class="undefined">    display: block;</span></span><br><span class="line"><span class="undefined">    width: 430px;</span></span><br><span class="line"><span class="undefined">    height: 430px;</span></span><br><span class="line"><span class="undefined">    border: 1px solid #ccc;</span></span><br><span class="line"><span class="undefined">    position: relative;</span></span><br><span class="line"><span class="undefined">    padding: 1px;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#small-box&#123;</span></span><br><span class="line"><span class="undefined">    position: relative;</span></span><br><span class="line"><span class="undefined">    z-index: 1;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#small-box img&#123;</span></span><br><span class="line"><span class="undefined">    top: -100px;</span></span><br><span class="line"><span class="undefined">    width: 430px;</span></span><br><span class="line"><span class="undefined">    height: auto;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#float-box &#123;</span></span><br><span class="line"><span class="undefined">    display: none;</span></span><br><span class="line"><span class="undefined">    width: 160px;</span></span><br><span class="line"><span class="undefined">    height: 160px;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    background-attachment: scroll;</span></span><br><span class="line"><span class="undefined">    background-repeat: repeat;</span></span><br><span class="line"><span class="undefined">    cursor: move;</span></span><br><span class="line"><span class="undefined">    z-index: 1;</span></span><br><span class="line"><span class="undefined">    overflow: hidden;</span></span><br><span class="line"><span class="undefined">    background-image: url(img/float-img.png);</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#mark &#123;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    display: block;</span></span><br><span class="line"><span class="undefined">    width: 430px;</span></span><br><span class="line"><span class="undefined">    height: 430px;</span></span><br><span class="line"><span class="undefined">    background-color: #fff;</span></span><br><span class="line"><span class="undefined">    filter: alpha(opacity=0);</span></span><br><span class="line"><span class="undefined">    opacity: 0;</span></span><br><span class="line"><span class="undefined">    z-index: 10;</span></span><br><span class="line"><span class="undefined">    cursor: move;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#big-box &#123;</span></span><br><span class="line"><span class="undefined">    display: none;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    top: 0;</span></span><br><span class="line"><span class="undefined">    left: 460px;</span></span><br><span class="line"><span class="undefined">    width: 430px;</span></span><br><span class="line"><span class="undefined">    height: 430px;</span></span><br><span class="line"><span class="undefined">    overflow: hidden;</span></span><br><span class="line"><span class="undefined">    border: 1px solid #ccc;</span></span><br><span class="line"><span class="undefined">    z-index: 99;</span></span><br><span class="line"><span class="undefined">    background-color: #fff;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined">#big-box img &#123;</span></span><br><span class="line"><span class="undefined">    position: absolute;</span></span><br><span class="line"><span class="undefined">    z-index: 5;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"layout"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"small-box"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"mark"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"float-box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/img.jpg"</span> <span class="attr">id</span>=<span class="string">"small-img"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"big-box"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/img.jpg"</span> <span class="attr">id</span>=<span class="string">"big-img"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">var box = document.getElementById("box"),</span></span><br><span class="line"><span class="undefined">        mark = document.getElementById("mark"),</span></span><br><span class="line"><span class="undefined">        floatBox = document.getElementById("float-box"),</span></span><br><span class="line"><span class="undefined">        bigBox = document.getElementById("big-box"),</span></span><br><span class="line"><span class="undefined">        bigImg = document.getElementById("big-img");   </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    // 鼠标进入mark区域，floatBox跟bigBox显示</span></span><br><span class="line"><span class="undefined">    mark.onmouseover = function () &#123;</span></span><br><span class="line"><span class="undefined">        floatBox.style.display = "block"</span></span><br><span class="line"><span class="undefined">        bigBox.style.display = "block"</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    // 鼠标离开mark区域，floatBox跟bigBox隐藏</span></span><br><span class="line"><span class="undefined">    mark.onmouseout = function () &#123;</span></span><br><span class="line"><span class="undefined">        floatBox.style.display = "none"</span></span><br><span class="line"><span class="undefined">        bigBox.style.display = "none"</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    // 鼠标在mark内移动</span></span><br><span class="line"><span class="undefined">    mark.onmousemove = function (ev) &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        var _event = ev || window.event;  //兼容多个浏览器的event参数模式</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        var left = _event.clientX - box.offsetLeft - floatBox.offsetWidth/2;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        var top = _event.clientY - box.offsetTop - floatBox.offsetHeight/2;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        var floatRangeX = box.offsetWidth - floatBox.offsetWidth;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        var floatRangeY = box.offsetHeight - floatBox.offsetHeight; </span></span><br><span class="line"><span class="undefined">        //设置边界处理，防止移出小图片</span></span><br><span class="line"><span class="undefined">        if(left &lt; 0)&#123;</span></span><br><span class="line"><span class="undefined">            left = 0;      </span></span><br><span class="line"><span class="undefined">        &#125;else if(left &gt; floatRangeX)&#123;</span></span><br><span class="line"><span class="undefined">            left = floatRangeX;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        if(top &lt; 0)&#123;</span></span><br><span class="line"><span class="undefined">            top = 0;      </span></span><br><span class="line"><span class="undefined">        &#125;else if(top &gt; floatRangeY)&#123;</span></span><br><span class="line"><span class="undefined">            top = floatRangeY;</span></span><br><span class="line"><span class="undefined">        &#125; </span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        //赋值</span></span><br><span class="line"><span class="undefined">        floatBox.style.left = left + 'px';</span></span><br><span class="line"><span class="undefined">        floatBox.style.top = top + 'px';</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        //计算move块实际坐标占可移动范围的比例</span></span><br><span class="line"><span class="undefined">        var w = left/floatRangeX,</span></span><br><span class="line"><span class="undefined">        h = top/floatRangeY;</span></span><br><span class="line"><span class="undefined">        //计算大图的移动的范围</span></span><br><span class="line"><span class="undefined">        var bigRangeLeft = bigImg.offsetWidth-bigBox.offsetWidth,</span></span><br><span class="line"><span class="undefined">        bigRangeTop = bigImg.offsetHeight-bigBox.offsetHeight;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        //计算大图的位置</span></span><br><span class="line"><span class="undefined">        var bigLeft = bigRangeLeft*w,</span></span><br><span class="line"><span class="undefined">        bigTop = bigRangeTop*h;</span></span><br><span class="line"><span class="undefined">        //赋值</span></span><br><span class="line"><span class="undefined">        bigBox.scrollTop = bigTop;</span></span><br><span class="line"><span class="undefined">        bigBox.scrollLeft = bigLeft;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/images/magnifier.png" alt="image"></p><p>　　在上面的预览图中，左边的的图我暂时叫它小图，右边叫大图，小图上面的方块叫move块，原理其实很简单，分析一下，可以分成下面几个部分：<br>　　1.大图跟move块一开始是隐藏的，只有当鼠标移入到小图中的时候，大图跟move块才显示，然后鼠标移出就恢复隐藏。这个代码实现也很简单，用 <strong>onmouseover</strong>、<strong>onmouseout</strong> 两个事件就可以实现<br>　　<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 鼠标进入mark区域，floatBox跟bigBox显示</span></span><br><span class="line">mark.onmouseover = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    floatBox.style.display = <span class="string">"block"</span></span><br><span class="line">    bigBox.style.display = <span class="string">"block"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 鼠标离开mark区域，floatBox跟bigBox隐藏</span></span><br><span class="line">mark.onmouseout = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    floatBox.style.display = <span class="string">"none"</span></span><br><span class="line">    bigBox.style.display = <span class="string">"none"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>　　2.鼠标移入移出就搞定了，下面就要处理鼠标在小图里面移动的情况了，鼠标移到小图任意位置，move块也跟着移动，然后大图就显示对应的位置画面，那么重点来了，如何确定鼠标以及move的的位置呢？<br><img src="/images/move.jpg" alt="image"></p><ul><li>首先获取鼠标的坐标，也就是上图的两条黑色的箭头</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//横坐标</span></span><br><span class="line"><span class="keyword">var</span> x = _event.clientX;</span><br><span class="line"><span class="comment">//纵坐标</span></span><br><span class="line"><span class="keyword">var</span> y = _event.clientY;</span><br></pre></td></tr></table></figure><ul><li>然后有一个问题出现了，就是我们要求是鼠标在小图里面移动才会触发放大镜效果，而黑色箭头所获取到的坐标是鼠标在整个页面上面的坐标，跟我们的要求不符，所以要获取到鼠标在小图内部的相对位置，就要拿到绿色箭头的数据，然后用黑色箭头减去绿色箭头，就可以得到我们想要的了。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//横坐标</span></span><br><span class="line"><span class="keyword">var</span> x = _event.clientX - box.offsetLeft;</span><br><span class="line"><span class="comment">//纵坐标</span></span><br><span class="line"><span class="keyword">var</span> y = _event.clientY - box.offsetTop;</span><br></pre></td></tr></table></figure><ul><li>现在鼠标的左边拿到了，我们要处理一下move块的位置问题了，因为move移动到哪里，大图就显示那一块。看上图，我们在减去红色的箭头是不是就可以得到黄色箭头的坐标了呢，答案是“yes”。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//横坐标</span></span><br><span class="line"><span class="keyword">var</span> left = _event.clientX - box.offsetLeft - floatBox.offsetWidth/<span class="number">2</span>;</span><br><span class="line"><span class="comment">//纵坐标</span></span><br><span class="line"><span class="keyword">var</span> top = _event.clientY - box.offsetTop - floatBox.offsetHeight/<span class="number">2</span>;</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">    3.move块移动范围限制，move块要限制在小图范围内移动，出去了就没有意义啦！</span></span><br><span class="line"><span class="string">![image](/images/move2.jpg)</span></span><br><span class="line"><span class="string">从上图可以看出，move块的移动距离是不是就是蓝色箭头距离呢？</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>javascript</span><br><span class="line"><span class="keyword">var</span> floatRangeX = box.offsetWidth - floatBox.offsetWidth;</span><br><span class="line"><span class="keyword">var</span> floatRangeY = box.offsetHeight - floatBox.offsetHeight;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置边界处理，防止移出小图片</span></span><br><span class="line"><span class="keyword">if</span>(left &lt; <span class="number">0</span>)&#123;</span><br><span class="line">    left = <span class="number">0</span>;      </span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(left &gt; floatRangeX)&#123;</span><br><span class="line">    left = floatRangeX;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(top &lt; <span class="number">0</span>)&#123;</span><br><span class="line">    top = <span class="number">0</span>;      </span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(top &gt; floatRangeY)&#123;</span><br><span class="line">    top = floatRangeY;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　4.然后就是赋值move块了，让它跟着鼠标移动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//赋值</span><br><span class="line">floatBox.style.left = left + &apos;px&apos;;</span><br><span class="line">floatBox.style.top = top + &apos;px&apos;;</span><br></pre></td></tr></table></figure><pre><code>5.计算move块实际坐标占可移动范围的比例</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var w = left/floatRangeX,</span><br><span class="line">h = top/floatRangeY;</span><br></pre></td></tr></table></figure><pre><code>6.计算大图的移动的范围</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var bigRangeLeft = bigImg.offsetWidth-bigBox.offsetWidth,</span><br><span class="line">   bigRangeTop = bigImg.offsetHeight-bigBox.offsetHeight;</span><br></pre></td></tr></table></figure><pre><code>7.//计算大图的位置及赋值</code></pre><p>var bigLeft = bigRangeLeft<em>w,<br>    bigTop = bigRangeTop</em>h;<br>    //赋值<br>    bigBox.scrollTop = bigTop;<br>    bigBox.scrollLeft = bigLeft;<br><code>`</code><br>　　大功告成，放大镜的效果就写出来了，由于本人能力有限，写的有什么不对的地方以及不好的地方，多多包涵！最后附上一个完整的demo文件。　　<a href="magnifier.html">下载</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;　　个人写博客是为了记录前端学习的过程以及收获，同时也为了记录学习过程中碰到的各种各样的坑，好敦促自己要努力学习，keep moving！&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;html&lt;/p&gt;
&lt;figure class=&quot;high
      
    
    </summary>
    
      <category term="案例" scheme="http://yoursite.com/categories/%E6%A1%88%E4%BE%8B/"/>
    
    
      <category term="html" scheme="http://yoursite.com/tags/html/"/>
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
      <category term="前端特效" scheme="http://yoursite.com/tags/%E5%89%8D%E7%AB%AF%E7%89%B9%E6%95%88/"/>
    
  </entry>
  
  <entry>
    <title>仿天猫主页</title>
    <link href="http://yoursite.com/2018/03/04/%E4%BB%BF%E5%A4%A9%E7%8C%AB%E5%95%86%E5%9F%8E/"/>
    <id>http://yoursite.com/2018/03/04/仿天猫商城/</id>
    <published>2018-03-04T04:30:43.000Z</published>
    <updated>2018-04-28T06:13:19.238Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/tmall.png" alt="image"><br>　　学习前端也有一段时间了，想做一个小小的项目来考察一下自己学的怎么，一开始也不知道要做什么好，后面想了一下，决定做一个仿天猫商城的页面。<br>　　下面我列一下做了的页面跟一些效果功能：</p><h4 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h4><ul><li>天猫商城首页</li><li>注册/登录页</li><li>商品列表页</li><li>商品详情页</li><li>购物车页</li><li>结算页</li><li>支付页</li><li>…..</li></ul><h4 id="效果功能"><a href="#效果功能" class="headerlink" title="效果功能"></a>效果功能</h4><ul><li>注册/登陆功能</li><li>轮播效果</li><li>产品排序功能</li><li>购物车功能</li><li>评论功能</li><li>放大镜效果</li></ul><h3 id="在线预览"><a href="#在线预览" class="headerlink" title="在线预览"></a><a href="https://ycxj.github.io/demo.github.io/demo/tmall/index.html" target="_blank" rel="noopener">在线预览</a></h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/tmall.png&quot; alt=&quot;image&quot;&gt;&lt;br&gt;　　学习前端也有一段时间了，想做一个小小的项目来考察一下自己学的怎么，一开始也不知道要做什么好，后面想了一下，决定做一个仿天猫商城的页面。&lt;br&gt;　　下面我列一下做了的页面跟一些效果功
      
    
    </summary>
    
      <category term="案例" scheme="http://yoursite.com/categories/%E6%A1%88%E4%BE%8B/"/>
    
    
      <category term="html" scheme="http://yoursite.com/tags/html/"/>
    
      <category term="css" scheme="http://yoursite.com/tags/css/"/>
    
      <category term="javascript" scheme="http://yoursite.com/tags/javascript/"/>
    
      <category term="jquery" scheme="http://yoursite.com/tags/jquery/"/>
    
  </entry>
  
  <entry>
    <title>使用github page与hexo搭建个人博客</title>
    <link href="http://yoursite.com/2018/03/03/%E4%BD%BF%E7%94%A8github%20page%E4%B8%8Ehexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2018/03/03/使用github page与hexo搭建个人博客/</id>
    <published>2018-03-03T13:15:00.000Z</published>
    <updated>2018-03-13T04:15:16.826Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>　　今天写一篇关于用github page和hexo来搭建个人博客的文章，分享一下我的个人博客搭建之路。我为什么要搭建一个个人博客呢？主要还是为了找工作，因为搭建一个个人的博客可以把自己的一些作品放到上面，同时也可以跟其他人交流一下，更好地提升个人的技术水平。<br>　　这篇文章是博客搭建的基础篇，一些小白或者跟我一样的菜鸟可以参考一下。因为我本人也还是菜鸟一个，文章中可能会存在一些错误跟问题，大家可以跟我交流一下（欢迎大佬们来指点江山）。</p><p>　　本文主要的内容是下面几部分：</p><ol><li>安装Node.js</li><li>安装Git</li><li>Github账户注册和新建项目</li><li>安装Hexo</li><li>将Hexo与Github page联系起来</li></ol><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><ul><li>下载Node.js安装文件。<a href="http://nodejs.cn/download/" target="_blank" rel="noopener">Node.js中文网</a></li></ul><p><img src="/images/nodejs.png" alt="image"></p><ul><li>根据自己的电脑系统选择对应的安装包</li></ul><p><img src="/images/nodejs2.jpg" alt="image"></p><p>　保持默认设置即可，一路Next，安装很快就结束了。 然后我们检查一下是不是要求的组件都安装好了，同时按下Win和R，打开运行窗口：</p><p><img src="/images/cmd.jpg" alt="image"></p><ul><li>然后在界面中输入：</li></ul><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v  </span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><img src="/images/cmd2.png" alt="image"></p><p>　如果结果如下图所示，则说明安装正确，可以进行下一步了，如果不正确，则需要回头检查自己的安装过程。</p><h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><ul><li>下载Git安装文件。<a href="hhttps://git-scm.com/downloads" target="_blank" rel="noopener">Git官网下载地址</a></li></ul><p><img src="/images/git.png" alt="image"></p><ul><li>根据自己的电脑系统选择对应的安装</li></ul><p>　　安装步骤跟node.js差不多，一路点next下来就好，安装好了之后，在桌面右键会有Git GUI here和Git Bash here两个选项，点击Git Bash here，然后输入git version,如果结果如下图所示，则说明安装正确，可以进行下一步了，如果不正确，则需要回头检查自己的安装过程。</p><p><img src="/images/git2.jpg" alt="image"></p><p>关于Git的详细安装以及使用教程可参考：<a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener">廖雪峰Git教程</a></p><h3 id="Github新建仓库"><a href="#Github新建仓库" class="headerlink" title="Github新建仓库"></a>Github新建仓库</h3><ul><li>登陆github后，新建一个代码仓库（New repository）。</li></ul><p><img src="/images/github.png" alt="image"></p><p>　　然后进入到代码库创建页面，<strong>这里一定一定要注意在Repository name下填写yourname.github.io，yourname就是你个人的github的名称，不这样写后面可能会出问题，要尽可能避免出现，</strong>Description (optional)下填写一些简单的描述（不写也没有关系），填写完名称后，点击下面的create repository即可，如图所示：</p><p><img src="/images/repo.png" alt="image"></p><p>　　后面会看到这个界面：</p><p><img src="/images/repocode.jpg" alt="image"></p><p>　　点击界面右侧的Settings，你将会打开这个库的setting页面，向下拖动，直到看见GitHub Pages，如图：</p><p><img src="/images/reposetting.jpg" alt="image"></p><p><img src="/images/repogene.jpg" alt="image"></p><p>　　点击Launch automatic page generator，Github将会自动替你创建出一个github-pages的页面, 如果你的配置没有问题，那么大约15分钟之后，yourname.github.io这个网址就可以正常访问了。</p><h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><h4 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h4><p>　　在自己认为合适的地方创建一个文件夹，这里我以E：/hexo 为例子讲解，首先在E盘目录下创建Hexo文件夹，并在命令行的窗口进入到该目录：</p><p><img src="/images/hexo1.jpg" alt="image"></p><p>　　在命令行中输入：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>　　然后你将会看到:</p><p><img src="/images/hexo2.jpg" alt="image"></p><p>　　可能你会看到一个WARN，但是不用担心，这不会影响你的正常使用。 然后输入<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo --save</span><br></pre></td></tr></table></figure></p><p>　　然后你会看到命令行窗口刷了一大堆白字，下面我们来看一看Hexo是不是已经安装好了。 在命令行中输入：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p><img src="/images/hexo3.jpg" alt="image"></p><h4 id="初始化hexo"><a href="#初始化hexo" class="headerlink" title="初始化hexo"></a>初始化hexo</h4><p>　　输入hexo init，初始化hexo,看到后面的“Start blogging with Hexo！”就是初始化成功了（这个操作时间会比较就，等待一下就好）。<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></p><p><img src="/images/init1.png" alt="image"><br><img src="/images/init2.png" alt="image"></p><p>　　然后输入npm install，安装所需要的组件。</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p><img src="/images/npm.png" alt="image"></p><h4 id="首次体验hexo"><a href="#首次体验hexo" class="headerlink" title="首次体验hexo"></a>首次体验hexo</h4><p>　　继续在命令行中输入hexo g<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></p><p><img src="/images/hexog.jpg" alt="image"></p><p>　　然后再输入 hexo s启动服务器：</p><p><img src="/images/hexos.png" alt="image"></p><p>　　输入上图的网址就可以访问了，加入一直都没有跳转，有可能是端口被占用了，需要修改端口，此时我们ctrl+c停止服务器，接着输入“hexo server -p 端口号”来改变端口号</p><p><img src="/images/hexop.png" alt="image"></p><p>　　如果能够看到下图就说明成功了。</p><p><img src="/images/hexo.jpg" alt="image"></p><h3 id="将Hexo与Github-page联系起来"><a href="#将Hexo与Github-page联系起来" class="headerlink" title="将Hexo与Github page联系起来"></a>将Hexo与Github page联系起来</h3><h4 id="配置Git个人信息"><a href="#配置Git个人信息" class="headerlink" title="配置Git个人信息"></a>配置Git个人信息</h4><p>　　进入blog文件夹，右键进入Git Bash,然后分别输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;yourname&quot;</span><br><span class="line">git config --global user.email &quot;youremail&quot;</span><br></pre></td></tr></table></figure></p><h4 id="创建SSH密钥"><a href="#创建SSH密钥" class="headerlink" title="创建SSH密钥"></a>创建SSH密钥</h4><p>　　在gitbash中输入下面的内容，需要按多次回车键，生成ssh密钥，最后得到了两个文件：id_rsa和id_rsa.pub（默认存储路径是：C:\Users\Administrator\ .ssh）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail&quot;</span><br></pre></td></tr></table></figure><p>　　登陆个人的github账号，进入settings，再进入 SSH and GPG keys，点击右上角的New SSH Key,然后进入.ssh文件夹用记事本打开id_rsa.pub文件，复制里面的内容放到Key里面，title可以随便填：</p><p><img src="/images/githubsetting.png" alt="image"><br><img src="/images/githubssh.png" alt="image"><br><img src="/images/newssh.png" alt="image"></p><p>　　输入ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>，测试添加ssh是否成功。如果看到Hi后面是你的用户名，就说明成功了</p><h4 id="配置Deployment"><a href="#配置Deployment" class="headerlink" title="配置Deployment"></a>配置Deployment</h4><p>在你blog的根目录下找到_config.yml文件，按照这个格式修改repo值：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">git@github.com:yourname/yourname.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>　　比如我的仓库的地址,所以配置如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git@github.com:ycxiaojun/ycxiaojun.github.io.git</span><br></pre></td></tr></table></figure></p><p><img src="/images/ymlrepo.png" alt="image"></p><h4 id="新建一篇博客"><a href="#新建一篇博客" class="headerlink" title="新建一篇博客"></a>新建一篇博客</h4><p>　　在cmd执行命令一下命令,这个博客名随便取：<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post “博客名”</span><br></pre></td></tr></table></figure></p><p>　　这时候在文件夹_posts目录下将会看到已经创建的文件，用MarDown编辑器打开就可以编辑文章了。</p><p>　　在生成以及部署文章之前，需要安装一个扩展，在cmd中输入：<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p><p>　　文章编辑好之后，运行生成、部署命令：<br><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g   // 生成以及部署了</span><br></pre></td></tr></table></figure></p><p>　　部署成功后访问你的地址：http://用户名.github.io。那么将看到生成的文章。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;　　今天写一篇关于用github page和hexo来搭建个人博客的文章，分享一下我的个人博客搭建之路。我为什么要搭建一个个人博客呢？主要还
      
    
    </summary>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>终于弄好了我的博客</title>
    <link href="http://yoursite.com/2018/02/25/%E7%BB%88%E4%BA%8E%E5%BC%84%E5%A5%BD%E4%BA%86%E6%88%91%E7%9A%84%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2018/02/25/终于弄好了我的博客/</id>
    <published>2018-02-25T12:37:00.000Z</published>
    <updated>2018-03-12T05:31:22.670Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/timg.jpg" alt="image"></p><p>　　今天是2018年2月25号（农历大年初十），年前开始捣鼓怎样做一个个人博客，中间过了一个年，今天终于把个人博客的基本框架都搭建好了，剩下的一些细枝末节的东西后面再弄。这篇文章算是我的第一篇博客文章啊，有点小激动！！！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/timg.jpg&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;　　今天是2018年2月25号（农历大年初十），年前开始捣鼓怎样做一个个人博客，中间过了一个年，今天终于把个人博客的基本框架都搭建好了，剩下的一些细枝末节的东西后面再弄。这篇文章
      
    
    </summary>
    
    
      <category term="生活" scheme="http://yoursite.com/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
</feed>
